{% extends "base.html" %} {% load static %} {% block title %}Music Files{%
endblock %} {% block content %}
<div class="container mx-auto p-4">
  <h2 class="text-2xl font-bold mb-4">Music Texts</h2>
  {% include "music_cards/partials/categories_list_partial.html" %}
</div>

<script>
  htmx.onLoad(function (content) {
    var sortables = document.querySelectorAll(".sortable");
    for (var i = 0; i < sortables.length; i++) {
      var sortable = sortables[i];
      new Sortable(sortable, {
        animation: 150,
        ghostClass: "blue-background-class",
        onEnd: function (evt) {
          this.option("disabled", true); // Disable sorting on end event
        },
      });

      // Re-enable sorting on the `htmx:afterSwap` event
      sortable.addEventListener("htmx:afterSwap", function () {
        sortableInstance.option("disabled", false);
      });
    }
  });
</script>
{% endblock content %}
