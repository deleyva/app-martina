<form id="sortable-container" class="space-y-4 sortable" hx-post="{% url 'music_cards:update_order' %}" hx-trigger="end" hx-target="#sortable-container" hx-swap="outerHTML">
    {% csrf_token %}
    <input type="hidden" name="category" value="{{ category.id }}">
    {% for item in category_items %}
    <div class="card bg-base-100 shadow-lg hover:shadow-xl transition-shadow duration-200 cursor-move">
        <input type="hidden" name="item" value="{{ item.id }}">
        <div class="card-body">
            <div class="flex items-start gap-4">
                <div class="flex-none w-64">
                    <div class="flex items-center gap-2 mb-2">
                        <div class="badge badge-primary badge-sm">{{ item.order }}</div>
                        <i class="fas fa-grip-vertical text-base-content/50"></i>
                    </div>
                    <h3 class="card-title text-lg hover:text-primary cursor-pointer transition-colors"
                        hx-get="{% url 'music_cards:text_detail' item.text.id %}"
                        hx-target="#sortable-container"
                        hx-swap="outerHTML"
                        hx-trigger="click"
                    >{{ item.name }}</h3>
                    {% if user.is_staff or user.is_superuser %}
                        <div class="flex gap-2 mt-3">
                            <a href="{% url 'admin:music_cards_text_change' item.text.id %}" 
                               class="btn btn-xs btn-outline btn-info tooltip" 
                               data-tip="Editar">
                                <i class="fas fa-edit"></i>
                            </a>
                            <a href="{% url 'music_cards:duplicate_text' item.text.id %}" 
                               class="btn btn-xs btn-outline btn-success tooltip" 
                               data-tip="Duplicar">
                                <i class="fas fa-copy"></i>
                            </a>
                            <button class="btn btn-xs btn-outline btn-error tooltip" 
                                    data-tip="Eliminar"
                                    hx-delete="{% url 'music_cards:delete_text' item.id %}"
                                    hx-headers='{"X-CSRFToken": "{{ csrf_token}}"}'
                                    hx-confirm="¿Estás seguro de eliminar este elemento?"
                                    hx-target="#sortable-container"
                                    hx-swap="outerHTML">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    {% endif %}
                </div>
                <div class="flex-1 bg-base-200 rounded-lg p-4">
                    {% if item.text %}
                        {% include 'music_cards/partials/text_list.html' with text=item.text %}
                    {% elif item.file %}
                        {% include 'music_cards/partials/file_template.html' with file=item.file %}
                    {% elif item.embed %}
                        {% include 'partials/embed_template.html' with embed=item.embed %}
                    {% elif item.music_item %}
                        {% include 'music_cards/partials/music_item_template.html' with music_item=item.music_item %}
                    {% else %}
                        <div class="alert alert-warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>No content available.</span>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</form>
<!-- Compare this snippet from music_cards/templates/music_cards/category_detail.html: -->