<div class="slide-content">
    <div class="music-item">
        <div class="music-item-title">{{ slide.title }}</div>
        
        {% if slide.content_object %}
            {% with music_item=slide.content_object %}
                <!-- Mostrar tags si existen -->
                {% if music_item.tags.all %}
                    <div class="mb-4">
                        {% for tag in music_item.tags.all %}
                            <span class="badge badge-outline badge-sm mr-2">
                                {{ tag.key }}{% if tag.value %}:{{ tag.value }}{% endif %}
                            </span>
                        {% endfor %}
                    </div>
                {% endif %}
                
                <!-- Mostrar textos -->
                {% if music_item.texts.all %}
                    <div class="mb-6">
                        <h4 class="font-semibold mb-2">üìù Contenido Textual:</h4>
                        {% for text in music_item.texts.all %}
                            <div class="bg-white bg-opacity-20 p-3 rounded mb-2">
                                <div class="font-medium">{{ text.title }}</div>
                                {% if text.content %}
                                    <div class="text-sm mt-1 whitespace-pre-line">{{ text.content|truncatewords:50 }}</div>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
                
                <!-- Mostrar archivos -->
                {% if music_item.files.all %}
                    <div class="mb-6">
                        <h4 class="font-semibold mb-2">üìÅ Archivos:</h4>
                        {% for file in music_item.files.all %}
                            <div class="bg-white bg-opacity-20 p-2 rounded mb-1 flex items-center">
                                <span class="mr-2">üéµ</span>
                                <span>{{ file.name }}</span>
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
                
                <!-- Mostrar embeds -->
                {% if music_item.embeds.all %}
                    <div class="mb-6">
                        <h4 class="font-semibold mb-2">üîó Enlaces:</h4>
                        {% for embed in music_item.embeds.all %}
                            <div class="bg-white bg-opacity-20 p-2 rounded mb-1">
                                <a href="{{ embed.url }}" target="_blank" class="underline">{{ embed.title }}</a>
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}
        {% endif %}
        
        <!-- Contenido adicional de la diapositiva -->
        {% if slide.text_content %}
            <div class="mt-4 bg-white bg-opacity-20 p-4 rounded">
                <h4 class="font-semibold mb-2">üìã Instrucciones:</h4>
                <div class="whitespace-pre-line">{{ slide.text_content }}</div>
            </div>
        {% endif %}
    </div>
    
    {% if slide.notes %}
        <div class="slide-notes mt-6 p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400">
            <strong>Notas del profesor:</strong> {{ slide.notes }}
        </div>
    {% endif %}
    
    {% if slide.duration %}
        <div class="mt-4 text-sm text-gray-600">
            ‚è±Ô∏è Tiempo asignado: {{ slide.duration }}
        </div>
    {% endif %}
</div>
