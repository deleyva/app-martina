{% for lib_item in library_items %}
{% include "clases/class_sessions/partials/library_item_row.html" with lib_item=lib_item session=session %}
{% endfor %}

{% if has_more %}
<tr id="library-load-more-row">
    <td colspan="3" class="text-center py-4">
        <button class="btn btn-sm btn-ghost"
                hx-get="{% url 'clases:class_session_edit' session.pk %}?offset={{ next_offset }}&page_size={{ page_size }}&search={{ search }}"
                hx-target="#library-load-more-row"
                hx-swap="outerHTML">
            Mostrar m√°s ({{ remaining_count|default:"..." }})
        </button>
    </td>
</tr>
{% endif %}

<script>
function toggleElements(itemId) {
    // Obtener checkbox y elementos
    const checkbox = document.getElementById('toggle-' + itemId);
    const elements = document.querySelectorAll('.scorepage-element-' + itemId);
    
    // Toggle display
    elements.forEach(function(element) {
        if (checkbox.checked) {
            element.style.display = 'table-row';
        } else {
            element.style.display = 'none';
        }
    });
}
</script>
